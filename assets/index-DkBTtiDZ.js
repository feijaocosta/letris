var e,t=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(e,s,l)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,i=(e,t)=>{for(var s in t||(t={}))n.call(t,s)&&o(e,s,t[s]);if(r)for(var s of r(t))a.call(t,s)&&o(e,s,t[s]);return e},c=(e,t)=>s(e,l(t)),d=(e,t,s)=>o(e,"symbol"!=typeof t?t+"":t,s),u=(e,t,s)=>new Promise((l,r)=>{var n=e=>{try{o(s.next(e))}catch(t){r(t)}},a=e=>{try{o(s.throw(e))}catch(t){r(t)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,a);o((s=s.apply(e,t)).next())});import{j as h,C as x,B as m}from"./ui-4RLaee7V.js";import{a as p,r as g}from"./vendor-VIAh7PwP.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var b=p;function f({grid:e,activePiece:t,linesToClear:s=[]}){return h.jsx("div",{className:"inline-block border-2 border-slate-600 bg-slate-900 bg-opacity-70 p-1 rounded",children:h.jsx("div",{className:"grid grid-cols-10 gap-0",children:e.map((e,l)=>e.map((e,r)=>((e,l,r)=>{let n=e.letter,a=e.isActive,o=e.isHighlighted;const i=s.includes(l);if(t){const e=l-t.y,s=r-t.x;e>=0&&e<t.shape.length&&s>=0&&s<t.shape[0].length&&t.shape[e][s]&&(n=t.letters[e][s],a=!0)}return h.jsx("div",{className:`\n          w-6 h-6 border border-gray-300 flex items-center justify-center text-xs font-bold\n          ${a?"bg-blue-200 border-blue-400":""}\n          ${o?"bg-yellow-200 border-yellow-400":""}\n          ${i?"bg-yellow-300 border-yellow-500 animate-pulse":""}\n          ${!n||a||o||i?"":"bg-gray-100"}\n          ${n||a||i?"":"bg-slate-800 bg-opacity-50"}\n        `,children:n&&h.jsx("span",{className:"font-bold text-gray-800",children:n})},`${l}-${r}`)})(e,l,r)))})})}e=b.createRoot,b.hydrateRoot;class v{static getPoolForLevel(e){return e<=3?this.LETTER_POOLS[0]:e<=6?this.LETTER_POOLS[1]:e<=9?this.LETTER_POOLS[2]:this.LETTER_POOLS[3]}static getAvailableLettersForLevel(e){return this.getPoolForLevel(e).letters}static getValidWordsForLevel(e){return this.getPoolForLevel(e).words}static getRequiredWordsForLevel(e){return this.getPoolForLevel(e).requiredWords}static getPoolNameForLevel(e){return this.getPoolForLevel(e).name}static getRandomLetterForLevel(e){const t=this.getAvailableLettersForLevel(e);return t[Math.floor(Math.random()*t.length)]}static isValidWordForLevel(e,t){return this.getValidWordsForLevel(t).includes(e.toUpperCase())}static normalizeWord(e){return e.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static isValidNormalizedWord(e,t){const s=this.normalizeWord(e);return this.getValidWordsForLevel(t).map(e=>this.normalizeWord(e)).includes(s)}static getPoolStats(e){const t=this.getPoolForLevel(e);return{level:t.level,name:t.name,letterCount:t.letters.length,wordCount:t.words.length,requiredWords:t.requiredWords,letters:t.letters.slice(0,10),hasMore:t.letters.length>10}}static getAllWords(){return this.LETTER_POOLS.flatMap(e=>e.words)}static validatePool(e){const t=this.getPoolForLevel(e);return t.words.every(e=>e.split("").every(e=>t.letters.includes(e)))}}d(v,"LETTER_POOLS",[{level:1,name:"BÃ¡sico",letters:["A","E","I","O","U","R","S","T","N","L"],words:["SOL","LUA","MAR","COR","LEI","REI","SAL","TAL","SER","TER","LER","SEU","MEU","SUA","TUA"],requiredWords:5},{level:2,name:"IntermediÃ¡rio",letters:["A","E","I","O","U","R","S","T","N","L","M","D","C","P","B"],words:["CASA","MESA","PATO","BOLA","REDE","SEDE","DADO","CAMA","DAMA","CABO","SABE","PODE","TODO","LADO","MODO"],requiredWords:8},{level:3,name:"AvanÃ§ado",letters:["A","E","I","O","U","R","S","T","N","L","M","D","C","P","B","G","V","F","H","J"],words:["FOGO","GATO","VIDA","HORA","CAMPO","GRAVE","FUNDO","VERDE","JOGOS","HAVER","FUGIR","PEDRA","BRAVO","CALOR","VALOR"],requiredWords:12},{level:4,name:"Expert",letters:["A","E","I","O","U","R","S","T","N","L","M","D","C","P","B","G","V","F","H","J","Q","W","X","Y","Z"],words:["QUERO","ZEBRA","YOGA","WAFER","XEROX","ZUMBI","WYNNE","XISTO","QUOTA","ZONAS","WALTZ","QUALM","JAZZY","NEXUS","FUZZY"],requiredWords:15}]);const j=[[[!0,!0,!0,!0]],[[!0,!0],[!0,!0]],[[!1,!0,!1],[!0,!0,!0]],[[!1,!0,!0],[!0,!0,!1]],[[!0,!0,!1],[!1,!0,!0]],[[!0,!1,!1],[!0,!0,!0]],[[!1,!1,!0],[!0,!0,!0]]];function w(e=1){const t=Math.floor(Math.random()*j.length),s=j[t],l=s.map(t=>t.map(t=>t?function(e){return v.getRandomLetterForLevel(e)}(e):""));return{shape:s,letters:l,x:Math.floor((10-s[0].length)/2),y:0}}function N(e,t,s,l){const r=void 0!==s?s:e.x,n=void 0!==l?l:e.y;for(let a=0;a<e.shape.length;a++)for(let s=0;s<e.shape[a].length;s++)if(e.shape[a][s]){const e=n+a,l=r+s;if(e<0||e>=t.length||l<0||l>=t[0].length)return!1;if(null!==t[e][l].letter)return!1}return!0}v.getRequiredWordsForLevel,v.getAvailableLettersForLevel,v.getValidWordsForLevel;class y{static calculateWordPoints(e,t){return{points:e*this.WORD_BASE_POINTS*t,reason:`${e} palavra(s) Ã— ${this.WORD_BASE_POINTS} Ã— nÃ­vel ${t}`}}static calculateLinePoints(e,t){const s=this.LINE_CLEAR_POINTS[Math.min(e,4)]||0;return{points:s*t,reason:`${["","Linha!","Duplo!","Triplo!","TETRIS!"][e]} - ${s} Ã— nÃ­vel ${t}`}}static calculateFallSpeed(e,t){const s=(e-1)*this.SPEED_INCREASE_PER_LEVEL,l=Math.floor(t/this.TIME_ACCELERATION)*this.TIME_SPEED_REDUCTION,r=this.INITIAL_FALL_SPEED-s-l;return Math.max(r,this.MIN_FALL_SPEED)}static getRequiredWordsForLevel(e){return e<=3?5:e<=6?8:e<=9?12:15}static calculateSpeedBonus(e){const t=this.INITIAL_FALL_SPEED/e;return Math.floor(10*t)}static formatScore(e){return e.toLocaleString("pt-BR")}static calculateGameStats(e,t,s,l){return{score:this.formatScore(e),level:t,wordsFound:s,linesCleared:l,avgPointsPerWord:s>0?Math.round(e/s):0,avgPointsPerLine:l>0?Math.round(e/l):0}}}function L({onInstall:e,onDismiss:t}){const[s,l]=g.useState(null),[r,n]=g.useState(!1),[a,o]=g.useState(!1),[i,c]=g.useState(!1),[d,p]=g.useState(!1);g.useEffect(()=>{(()=>{try{const e=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");p(e);const t=/iPad|iPhone|iPod/.test(navigator.userAgent);if(c(t),e)return void o(!0);if(localStorage.getItem("pwa-install-dismissed"))return;setTimeout(()=>{n(!0)},2e3)}catch(e){}})();const t=e=>{try{e.preventDefault(),l(e)}catch(t){}},s=()=>{o(!0),n(!1),null==e||e()};return"undefined"!=typeof window&&(window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",s)),()=>{"undefined"!=typeof window&&(window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",s))}},[e]);const b=()=>{n(!1),localStorage.setItem("pwa-install-dismissed","true"),null==t||t()};return a||!r?null:h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs(x,{className:"bg-gradient-to-br from-cyan-50 to-blue-50 p-6 max-w-sm mx-4 text-center border-2 border-cyan-200 shadow-2xl",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“±"}),h.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-2",children:"Instalar LETRIS"}),h.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-4",children:"Jogue offline a qualquer hora!"})]}),h.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 mb-6 text-left",children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Vantagens de instalar:"}),h.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[h.jsx("li",{children:"â€¢ ðŸš€ Acesso mais rÃ¡pido"}),h.jsx("li",{children:"â€¢ ðŸ“± Ãcone na tela inicial"}),h.jsx("li",{children:"â€¢ ðŸŒ Funciona offline"}),h.jsx("li",{children:"â€¢ ðŸ“± ExperiÃªncia app nativo"}),h.jsx("li",{children:"â€¢ ðŸ’¾ Salva progresso local"})]})]}),i&&!d?h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[h.jsx("p",{className:"text-sm text-blue-800 mb-2",children:h.jsx("strong",{children:"Para instalar no iOS:"})}),h.jsxs("ol",{className:"text-xs text-blue-700 text-left space-y-1",children:[h.jsx("li",{children:"1. Toque no botÃ£o compartilhar (ðŸ“¤)"}),h.jsx("li",{children:"2. Role para baixo"}),h.jsx("li",{children:'3. Toque em "Adicionar Ã  Tela de InÃ­cio"'}),h.jsx("li",{children:'4. Toque em "Adicionar"'})]})]}):null,h.jsxs("div",{className:"flex gap-3",children:[s&&!i?h.jsx(m,{onClick:()=>u(this,null,function*(){if(s)try{yield s.prompt();"accepted"===(yield s.userChoice).outcome?(n(!1),null==e||e()):b(),l(null)}catch(t){}}),className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold py-3 px-4 rounded-lg transform transition-all duration-200 hover:scale-105",children:"Instalar Agora! ðŸ“±"}):h.jsx(m,{onClick:b,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold py-3 px-4 rounded-lg",children:"Entendi! ðŸ‘"}),h.jsx(m,{onClick:b,variant:"outline",className:"flex-1 border-gray-300 text-gray-600 hover:bg-gray-50",children:"Agora nÃ£o"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"VocÃª pode instalar mais tarde atravÃ©s do menu do navegador"})]})})}function E(){const[e,t]=g.useState(!1),[s,l]=g.useState(!1),[r,n]=g.useState(!1),[a,o]=g.useState(null),[i,c]=g.useState("undefined"==typeof navigator||navigator.onLine);g.useEffect(()=>{(()=>{const e=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");n(e),l(e)})();setTimeout(()=>u(this,null,function*(){if("undefined"==typeof window||window.location.hostname.includes("figma")||window.location.hostname.includes("localhost"))return null;if(!("serviceWorker"in navigator)||"https:"!==window.location.protocol)return null;try{yield new Promise(e=>setTimeout(e,2e3));const e=yield navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"});return e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller})}),e}catch(e){return null}}),3e3);const e=e=>{e.preventDefault(),o(e),t(!0)},s=()=>{l(!0),t(!1),o(null)},r=()=>c(!0),a=()=>c(!1);return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",s),window.addEventListener("online",r),window.addEventListener("offline",a),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",s),window.removeEventListener("online",r),window.removeEventListener("offline",a)}},[]);return{isInstallable:e,isInstalled:s,isStandalone:r,isOnline:i,installPWA:()=>u(this,null,function*(){if(!a)return!1;try{yield a.prompt();return"accepted"===(yield a.userChoice).outcome&&(t(!1),o(null),!0)}catch(e){return!1}})}}function S(){const{isOnline:e,isStandalone:t}=E();return t||!e?h.jsxs("div",{className:"fixed top-2 left-2 z-30 flex gap-1",children:[!e&&h.jsx("div",{className:"bg-yellow-500 text-yellow-900 px-2 py-1 rounded-full text-xs font-bold",children:"ðŸ“¶ Offline"}),t&&h.jsx("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"ðŸ“± PWA"}),!1]}):null}d(y,"WORD_BASE_POINTS",100),d(y,"LINE_CLEAR_POINTS",[0,40,100,300,1200]),d(y,"LEVEL_MULTIPLIER",1),d(y,"INITIAL_FALL_SPEED",1e3),d(y,"SPEED_INCREASE_PER_LEVEL",100),d(y,"MIN_FALL_SPEED",100),d(y,"TIME_ACCELERATION",3e4),d(y,"TIME_SPEED_REDUCTION",50);const A=10,P=20;function T(){const{isOnline:e,isStandalone:t}=E(),[s,l]=g.useState(!1),[r,n]=g.useState(()=>Array(P).fill(null).map(()=>Array(A).fill(null).map(()=>({letter:null,isActive:!1,isHighlighted:!1})))),[a,o]=g.useState(null),[d,u]=g.useState(null),[p,b]=g.useState(0),[j,T]=g.useState(1),[O,R]=g.useState(0),[I,C]=g.useState(0),[F,D]=g.useState(!1),[W,k]=g.useState(!1),[M,_]=g.useState([]),[q,V]=g.useState([]),[U,B]=g.useState(0),[$,z]=g.useState([]),[H,G]=g.useState(!1),[J,Z]=g.useState(1),[X,Y]=g.useState(!1),[Q,K]=g.useState(Date.now()),ee=g.useRef(),te=g.useRef(),se=g.useRef();g.useEffect(()=>{if(le(),!t&&!window.location.hostname.includes("figma")){localStorage.getItem("pwa-install-dismissed")||setTimeout(()=>{l(!0)},5e3)}},[t]);const le=()=>{const e=Array(P).fill(null).map(()=>Array(A).fill(null).map(()=>({letter:null,isActive:!1,isHighlighted:!1})));n(e),o(w(1)),u(w(1)),b(0),T(1),R(0),C(0),D(!1),k(!1),_([]),V([]),B(0),z([]),G(!1),Z(1),Y(!1),K(Date.now())},re=g.useCallback(e=>{const t=function(e,t){const s=[];v.getValidWordsForLevel(t);for(let l=0;l<e.length;l++)for(let r=0;r<=e[l].length-3;r++)for(let n=3;n<=Math.min(8,e[l].length-r);n++){const a=[];let o="",i=!0;for(let t=0;t<n;t++){if(!e[l][r+t].letter){i=!1;break}o+=e[l][r+t].letter,a.push({row:l,col:r+t})}i&&v.isValidNormalizedWord(o,t)&&s.push({word:o,positions:a,direction:"horizontal"})}for(let l=0;l<e[0].length;l++)for(let r=0;r<=e.length-3;r++)for(let n=3;n<=Math.min(8,e.length-r);n++){const a=[];let o="",i=!0;for(let t=0;t<n;t++){if(!e[r+t][l].letter){i=!1;break}o+=e[r+t][l].letter,a.push({row:r+t,col:l})}i&&v.isValidNormalizedWord(o,t)&&s.push({word:o,positions:a,direction:"vertical"})}return s.filter((e,t,s)=>t===s.findIndex(t=>t.word===e.word&&JSON.stringify(t.positions)===JSON.stringify(e.positions)))}(e,j);if(t.length>0){const s=function(e,t){const s=e.map(e=>e.map(e=>c(i({},e),{isHighlighted:!1})));return t.forEach(e=>{e.positions.forEach(e=>{e.row>=0&&e.row<s.length&&e.col>=0&&e.col<s[0].length&&(s[e.row][e.col].isHighlighted=!0)})}),s}(e,t);n(s),_(t);const l=t.map(e=>e.word);V(e=>{const t=[...e];return l.forEach(e=>{t.includes(e)||t.push(e)}),t}),te.current=setTimeout(()=>{const s=function(e,t){const s=e.map(e=>e.map(e=>i({},e)));return t.forEach(e=>{e.positions.forEach(e=>{e.row>=0&&e.row<s.length&&e.col>=0&&e.col<s[0].length&&(s[e.row][e.col].letter=null,s[e.row][e.col].isActive=!1,s[e.row][e.col].isHighlighted=!1)})}),s}(e,t),l=y.calculateWordPoints(t.length,j);b(e=>e+l.points),R(e=>e+t.length),_([]),ie(s)},1e3)}},[j]),ne=g.useCallback((e,t)=>{const s=e.map(e=>e.map(e=>i({},e)));t.sort((e,t)=>t-e).forEach(e=>{s.splice(e,1),s.unshift(Array(A).fill(null).map(()=>({letter:null,isActive:!1,isHighlighted:!1})))});const l=t.length,r=y.calculateLinePoints(l,j);b(e=>e+r.points),C(e=>e+l),z([]),B(l),setTimeout(()=>B(0),2e3),n(s),setTimeout(()=>{re(s)},500)},[j,re]),ae=g.useCallback(e=>{const t=[];for(let s=0;s<P;s++){e[s].every(e=>null!==e.letter)&&t.push(s)}return t.length>0&&(z(t),se.current=setTimeout(()=>{ne(e,t)},1e3)),t.length>0},[ne]),oe=g.useCallback(e=>{n(t=>{const s=t.map(e=>e.map(e=>i({},e)));for(let l=0;l<e.shape.length;l++)for(let t=0;t<e.shape[l].length;t++)if(e.shape[l][t]){const r=e.y+l,n=e.x+t;r>=0&&r<P&&n>=0&&n<A&&(s[r][n]={letter:e.letters[l][t],isActive:!1,isHighlighted:!1})}return setTimeout(()=>{ae(s)||setTimeout(()=>{re(s)},100)},50),s})},[ae,re]),ie=g.useCallback(e=>{const t=e.map(e=>e.map(e=>i({},e)));for(let s=0;s<A;s++){let e=19;for(let l=19;l>=0;l--)null!==t[l][s].letter&&(e!==l&&(t[e][s]=i({},t[l][s]),t[l][s]={letter:null,isActive:!1,isHighlighted:!1}),e--)}n(t),setTimeout(()=>{ae(t)},100)},[ae]),ce=g.useCallback(()=>{if(d){const e=i({},d);N(e,r)?(o(e),u(w(j))):D(!0)}},[d,r]),de=g.useCallback((e,t)=>{if(!a||W||F)return;const s=a.x+e,l=a.y+t;N(a,r,s,l)?o(e=>e?c(i({},e),{x:s,y:l}):null):t>0&&(oe(a),o(null),setTimeout(()=>{ce()},100))},[a,r,W,F,oe,re,ce]),ue=g.useCallback(()=>{if(!a||W||F)return;const e=function(e){const t=[],s=[],l=e.shape.length,r=e.shape[0].length;for(let n=0;n<r;n++){const r=[],a=[];for(let t=l-1;t>=0;t--)r.push(e.shape[t][n]),a.push(e.letters[t][n]);t.push(r),s.push(a)}return c(i({},e),{shape:t,letters:s})}(a);N(e,r)&&o(e)},[a,r,W,F]),he=g.useCallback(()=>{if(!a||W||F)return;let e=a.y;for(;N(a,r,a.x,e+1);)e++;const t=c(i({},a),{y:e});oe(t),o(null),setTimeout(()=>{ce()},100)},[a,r,W,F,oe,re,ce]);g.useEffect(()=>{if(!W&&!F&&a){const e=Date.now()-Q,t=y.calculateFallSpeed(j,e);ee.current=setTimeout(()=>{de(0,1)},t)}return()=>{ee.current&&clearTimeout(ee.current)}},[a,W,F,j,de,Q]),g.useEffect(()=>{a||F||!d||ce()},[a,F,ce,d]),g.useEffect(()=>{const e=e=>{if(!F)switch(e.key.toLowerCase()){case"a":case"arrowleft":de(-1,0);break;case"d":case"arrowright":de(1,0);break;case"s":case"arrowdown":de(0,1);break;case"w":case"arrowup":ue();break;case" ":e.preventDefault(),he();break;case"p":k(e=>!e);break;case"h":Y(!0),k(!0)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[de,ue,he,F]),g.useEffect(()=>{const e=v.getRequiredWordsForLevel(j);if(q.length>=e){const e=j+1;k(!0),G(!0),Z(e)}},[q.length,j]);return g.useEffect(()=>()=>{te.current&&clearTimeout(te.current),se.current&&clearTimeout(se.current)},[]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"h-screen h-dvh bg-gradient-to-b from-cyan-400 via-blue-500 to-purple-600 flex items-center justify-center game-area",children:[h.jsx(S,{}),!e&&h.jsx("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-yellow-900 text-center py-1 text-sm font-bold z-40",children:"ðŸ“¶ Modo Offline - Progresso salvo localmente"}),h.jsxs("div",{className:"w-full h-full max-w-sm max-h-screen bg-gradient-to-b from-slate-900 via-blue-900 to-purple-900 overflow-hidden shadow-2xl flex flex-col game-board",style:{aspectRatio:"9/16"},children:[h.jsxs("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 p-2 text-center relative",children:[h.jsx("h1",{className:"text-white font-bold text-lg mb-2",children:"LETRIS"}),h.jsxs("div",{className:"flex justify-center gap-3 text-xs text-cyan-100",children:[h.jsxs("div",{children:["NÃ­vel ",h.jsx("span",{className:"text-white font-bold",children:j})]}),h.jsx("div",{children:"â€¢"}),h.jsxs("div",{children:["Score ",h.jsx("span",{className:"text-white font-bold",children:p.toLocaleString()})]}),h.jsx("div",{children:"â€¢"}),h.jsxs("div",{children:["Linhas ",h.jsx("span",{className:"text-white font-bold",children:I})]}),h.jsx("div",{children:"â€¢"}),h.jsxs("div",{children:["Palavras ",h.jsx("span",{className:"text-white font-bold",children:q.length})]})]}),h.jsx("button",{onClick:()=>{Y(!0),k(!0)},className:"absolute right-2 top-2 bg-white bg-opacity-20 hover:bg-opacity-30 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold",children:"?"})]}),h.jsxs("div",{className:"flex-1 flex p-3 gap-3 min-h-0",children:[h.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[h.jsx(f,{grid:r,activePiece:a,linesToClear:$}),M.length>0&&h.jsx("div",{className:"mt-2 p-2 bg-yellow-400 bg-opacity-90 rounded text-xs text-center",children:h.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:M.map((e,t)=>h.jsx("span",{className:"bg-yellow-600 text-white px-1 py-0.5 rounded font-bold text-xs",children:e.word},t))})}),U>0&&h.jsxs("div",{className:"mt-2 p-2 bg-green-400 bg-opacity-90 rounded text-xs text-center text-green-900 font-bold",children:[1===U&&"Linha!",2===U&&"Duplo!",3===U&&"Triplo!",4===U&&"TETRIS!"]})]}),h.jsxs("div",{className:"w-20 flex flex-col gap-2",children:[h.jsxs("div",{className:"bg-slate-800 bg-opacity-70 rounded p-2 text-xs text-cyan-300",children:[h.jsx("div",{className:"text-center mb-1",children:"META"}),h.jsxs("div",{className:"text-center mb-1",children:[h.jsx("span",{className:"text-white font-bold",children:q.length}),h.jsx("span",{className:"text-xs mx-1",children:"/"}),h.jsx("span",{className:"text-cyan-300",children:v.getRequiredWordsForLevel(j)})]}),h.jsx("div",{className:"bg-slate-600 rounded-full h-1",children:h.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 h-1 rounded-full transition-all duration-300",style:{width:`${Math.min(100,q.length/v.getRequiredWordsForLevel(j)*100)}%`}})})]}),d&&h.jsxs("div",{className:"bg-slate-800 bg-opacity-70 rounded p-2",children:[h.jsx("div",{className:"text-xs text-cyan-300 text-center mb-1",children:"NEXT"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"grid gap-0 w-fit",children:d.shape.map((e,t)=>h.jsx("div",{className:"flex",children:e.map((e,s)=>h.jsx("div",{className:`\n                              w-3 h-3 border border-gray-600 flex items-center justify-center text-xs font-bold\n                              ${e?"bg-blue-400 border-blue-300":"bg-transparent border-transparent"}\n                            `,children:e&&d.letters[t][s]&&h.jsx("span",{className:"text-white text-xs",children:d.letters[t][s]})},`${t}-${s}`))},t))})})]}),h.jsxs("div",{className:"bg-slate-800 bg-opacity-70 rounded p-2 text-xs text-cyan-300",children:[h.jsx("div",{className:"text-center mb-1",children:"POOL"}),h.jsx("div",{className:"text-center text-xs mb-1",children:v.getPoolNameForLevel(j)}),h.jsx("div",{className:"flex flex-wrap gap-px justify-center",children:v.getAvailableLettersForLevel(j).slice(0,6).map(e=>h.jsx("span",{className:"bg-blue-600 text-white text-xs px-1 rounded",children:e},e))})]}),h.jsxs("div",{className:"bg-slate-800 bg-opacity-70 rounded p-2 text-xs text-cyan-300 flex-1 overflow-hidden",children:[h.jsx("div",{className:"text-center mb-1",children:"PALAVRAS"}),h.jsxs("div",{className:"text-center mb-1 text-xs",children:[q.length,"/",v.getRequiredWordsForLevel(j)]}),h.jsx("div",{className:"grid grid-cols-1 gap-px text-xs",children:v.getValidWordsForLevel(j).slice(0,12).map(e=>{const t=q.includes(e);return h.jsx("div",{className:`\n                        px-1 py-0.5 rounded text-center transition-colors text-xs\n                        ${t?"bg-green-600 text-white line-through font-bold":"bg-slate-700 text-gray-300"}\n                      `,children:e},e)})})]})]})]}),h.jsxs("div",{className:"p-3 bg-slate-900 bg-opacity-70 flex-shrink-0",children:[h.jsxs("div",{className:"grid grid-cols-6 gap-1 mb-2",children:[h.jsx("button",{onTouchStart:()=>de(-1,0),onClick:()=>de(-1,0),className:"bg-slate-700 hover:bg-slate-600 text-white p-2 rounded text-xs font-bold active:bg-slate-500",children:"â†"}),h.jsx("button",{onTouchStart:ue,onClick:ue,className:"bg-slate-700 hover:bg-slate-600 text-white p-2 rounded text-xs font-bold active:bg-slate-500",children:"â†»"}),h.jsx("button",{onTouchStart:()=>de(1,0),onClick:()=>de(1,0),className:"bg-slate-700 hover:bg-slate-600 text-white p-2 rounded text-xs font-bold active:bg-slate-500",children:"â†’"}),h.jsx("button",{onTouchStart:()=>de(0,1),onClick:()=>de(0,1),className:"bg-slate-700 hover:bg-slate-600 text-white p-2 rounded text-xs font-bold active:bg-slate-500",children:"â†“"}),h.jsx("button",{onTouchStart:he,onClick:he,className:"bg-blue-600 hover:bg-blue-500 text-white p-2 rounded text-xs font-bold active:bg-blue-700",children:"â¬‡"}),h.jsx("button",{onTouchStart:()=>k(e=>!e),onClick:()=>k(e=>!e),className:"bg-slate-700 hover:bg-slate-600 text-white p-2 rounded text-xs font-bold active:bg-slate-500",children:W?"â–¶":"â¸"})]}),h.jsx("div",{className:"text-center text-xs text-slate-400 game-controls",children:"Toque no ? para ver todos os controles"})]}),(W||F)&&h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-80 flex items-center justify-center",children:h.jsx("div",{className:"bg-slate-800 p-6 rounded-lg text-center text-white max-w-xs mx-4",children:F?h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-red-400",children:"Game Over!"}),h.jsxs("p",{className:"mb-2",children:["Score Final: ",p.toLocaleString()]}),h.jsxs("p",{className:"mb-4",children:["Palavras: ",q.length]}),h.jsx(m,{onClick:le,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Novo Jogo"})]}):h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold mb-2 text-yellow-400",children:"Pausado"}),h.jsx("p",{className:"mb-4",children:"Pressione P ou toque no botÃ£o para continuar"})]})})})]})]}),s&&h.jsx(L,{onInstall:()=>l(!1),onDismiss:()=>l(!1)}),H&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs(x,{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-8 max-w-md mx-4 text-center border-2 border-blue-200 shadow-2xl",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ‰"}),h.jsx("h2",{className:"text-3xl font-bold text-blue-800 mb-2",children:"ParabÃ©ns!"}),h.jsxs("h3",{className:"text-xl font-semibold text-purple-700 mb-4",children:["NÃ­vel ",J," Desbloqueado!"]})]}),h.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 mb-6",children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Novo Pool de Letras:"}),h.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[J<=3&&"Pool 1: Letras BÃ¡sicas (10 letras disponÃ­veis)",J>3&&J<=6&&"Pool 2: Letras IntermediÃ¡rias (15 letras disponÃ­veis)",J>6&&J<=9&&"Pool 3: Letras AvanÃ§adas (20 letras disponÃ­veis)",J>9&&"Pool 4: Letras Complexas (25 letras disponÃ­veis)"]}),h.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[v.getAvailableLettersForLevel(J).slice(0,10).map(e=>h.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded font-bold text-sm",children:e},e)),v.getAvailableLettersForLevel(J).length>10&&h.jsxs("span",{className:"text-gray-500 text-sm",children:["+",v.getAvailableLettersForLevel(J).length-10," mais"]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Palavras necessÃ¡rias para o prÃ³ximo nÃ­vel: ",h.jsx("span",{className:"font-bold",children:v.getRequiredWordsForLevel(J)})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Score atual: ",h.jsx("span",{className:"font-bold text-blue-600",children:p.toLocaleString()})]})]}),h.jsxs(m,{onClick:()=>{T(J);const e=Array(P).fill(null).map(()=>Array(A).fill(null).map(()=>({letter:null,isActive:!1,isHighlighted:!1})));n(e),V([]),R(0),o(null),setTimeout(()=>{o(w(J)),u(w(J))},100),G(!1),k(!1)},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg transform transition-all duration-200 hover:scale-105",children:["Continuar para o NÃ­vel ",J,"! ðŸš€"]})]})}),X&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs(x,{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-8 max-w-md mx-4 text-center border-2 border-blue-200 shadow-2xl",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"text-6xl mb-4",children:"â“"}),h.jsx("h2",{className:"text-3xl font-bold text-blue-800 mb-2",children:"Como Jogar"}),h.jsx("h3",{className:"text-xl font-semibold text-purple-700 mb-4",children:"LETRIS"})]}),h.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 mb-6 text-left",children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Objetivo:"}),h.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Forme palavras em portuguÃªs (horizontal e vertical) com as letras que caem. Palavras vÃ¡lidas sÃ£o eliminadas automaticamente. Complete linhas para ganhar pontos bÃ´nus!"}),h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Controles:"}),h.jsxs("div",{className:"text-sm text-gray-700 mb-3 grid grid-cols-2 gap-1",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-bold",children:"A/â†"})," Esquerda"]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-bold",children:"D/â†’"})," Direita"]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-bold",children:"S/â†“"})," Acelera"]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-bold",children:"W/â†‘"})," Rotaciona"]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-bold",children:"EspaÃ§o"})," Drop"]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-bold",children:"P"})," Pause"]})]}),h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"ProgressÃ£o:"}),h.jsxs("p",{className:"text-sm text-gray-700",children:["Encontre ",h.jsxs("span",{className:"font-bold text-blue-600",children:[v.getRequiredWordsForLevel(j)," palavras"]})," ","para avanÃ§ar ao prÃ³ximo nÃ­vel. Cada nÃ­vel tem um pool de letras diferente."]})]}),h.jsx(m,{onClick:()=>Y(!1),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg transform transition-all duration-200 hover:scale-105",children:"Continuar Jogando! ðŸŽ®"})]})})]})}function O(){return g.useEffect(()=>{const e=e=>e.preventDefault();document.addEventListener("touchstart",e=>{e.touches.length>1&&e.preventDefault()},{passive:!1}),document.addEventListener("touchmove",e=>{e.touches.length>1&&e.preventDefault()},{passive:!1}),document.addEventListener("contextmenu",e);const t=()=>{setTimeout(()=>{window.scrollTo(0,0)},100)};return window.addEventListener("orientationchange",t),window.addEventListener("resize",t),()=>{document.removeEventListener("contextmenu",e),window.removeEventListener("orientationchange",t),window.removeEventListener("resize",t)}},[]),h.jsx(T,{})}e(document.getElementById("root")).render(h.jsx(g.StrictMode,{children:h.jsx(O,{})}));
